include ../VM-L431/hwdef.inc

define CAN_APP_NODE_NAME "com.vimdrones.bms"

# Serial ports
SERIAL_ORDER EMPTY USART1
PA9 USART1_TX USART1
PA10 USART1_RX USART1

# SPI1 for TI BMS chip
PB3 SPI1_SCK SPI1
PB4 SPI1_MISO SPI1
PB5 SPI1_MOSI SPI1

# CS pins for SPI sensors. The labels for all CS pins need to
# match the SPI device table later in this file.
PA15 TI_BQ76952_CS CS

# SPI device table
SPIDEV tibq76952 SPI1 DEVID1 TI_BQ76952_CS MODE3 2*MHZ 7*MHZ

# LEDs
PA3 LED_RED   OUTPUT OPENDRAIN GPIO(90) HIGH
PA4 LED_GREEN OUTPUT OPENDRAIN GPIO(91) HIGH
PA5 LED_BLUE  OUTPUT OPENDRAIN GPIO(92) HIGH

define HAL_USE_ADC FALSE
define STM32_ADC_USE_ADC1 FALSE
define HAL_DISABLE_ADC_DRIVER TRUE

define AP_PERIPH_BATTERY_TAG_ENABLED 1
define AP_PERIPH_RTC_ENABLED 1
define AP_PERIPH_RTC_GLOBALTIME_ENABLED 1
